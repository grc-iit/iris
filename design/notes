1)
2) change all raw pointers to std::unique_ptr
3) fix all API class initialization stuff
4) code the rest of the POSIX
